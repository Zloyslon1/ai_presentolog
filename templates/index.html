{% extends "base.html" %}

{% block title %}Home - Presentation Design System{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Hero Section -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
            –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
        </h1>
        <p class="text-xl text-gray-600">
            –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ Google Slides –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—É—é –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é
        </p>
    </div>

    <!-- Processing Form -->
    <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
        <form action="/process" method="POST" class="space-y-6">
            <!-- URL Input -->
            <div>
                <label for="presentation_url" class="block mb-2 text-sm font-medium text-gray-900">
                    Google Slides URL
                </label>
                <input type="url" 
                       id="presentation_url" 
                       name="presentation_url"
                       class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                       placeholder="https://docs.google.com/presentation/d/..."
                       required>
                <p class="mt-2 text-sm text-gray-500">
                    –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∞—à—É –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é Google Slides
                </p>
            </div>

            <!-- Template Selection -->
            <div>
                <label for="template_name" class="block mb-2 text-sm font-medium text-gray-900">
                    –®–∞–±–ª–æ–Ω –¥–∏–∑–∞–π–Ω–∞
                </label>
                <select id="template_name" 
                        name="template_name"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    {% for template in templates %}
                    <option value="{{ template }}">{{ template }}</option>
                    {% endfor %}
                </select>
                <p class="mt-2 text-sm text-gray-500">
                    –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
                </p>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                    class="w-full text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-3">
                üé® –ü—Ä–∏–º–µ–Ω–∏—Ç—å –¥–∏–∑–∞–π–Ω
            </button>
        </form>
    </div>

    <!-- Features -->
    <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="text-3xl mb-3">‚ö°</div>
            <h3 class="font-bold text-lg mb-2">–ë—ã—Å—Ç—Ä–æ</h3>
            <p class="text-gray-600 text-sm">–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞ 1-2 –º–∏–Ω—É—Ç—ã</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="text-3xl mb-3">üé®</div>
            <h3 class="font-bold text-lg mb-2">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ</h3>
            <p class="text-gray-600 text-sm">–ì–æ—Ç–æ–≤—ã–µ –¥–∏–∑–∞–π–Ω-—à–∞–±–ª–æ–Ω—ã</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow">
            <div class="text-3xl mb-3">üîí</div>
            <h3 class="font-bold text-lg mb-2">–ë–µ–∑–æ–ø–∞—Å–Ω–æ</h3>
            <p class="text-gray-600 text-sm">OAuth 2.0 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</p>
        </div>
    </div>

    <!-- Recent Jobs -->
    {% if jobs %}
    <div class="mt-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏</h2>
        <div class="bg-white rounded-lg shadow overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">–°—Ç–∞—Ç—É—Å</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">–®–∞–±–ª–æ–Ω</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">–í—Ä–µ–º—è</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    {% for job_id, job in jobs.items() | list | reverse %}{% if loop.index <= 5 %}
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">
                            {% if job.status == 'completed' %}
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                –ì–æ—Ç–æ–≤–æ
                            </span>
                            {% elif job.status == 'error' %}
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                                –û—à–∏–±–∫–∞
                            </span>
                            {% else %}
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                                –û–±—Ä–∞–±–æ—Ç–∫–∞...
                            </span>
                            {% endif %}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{{ job.template }}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ job.created_at[:19] }}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="/job/{{ job.id }}" class="text-blue-600 hover:text-blue-900">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        </td>
                    </tr>
                    {% endif %}{% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
